# ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†

## æ¦‚è¦
Jestã‹ã‚‰**Vitest + Playwright**ã®ãƒ¢ãƒ€ãƒ³ãªãƒ†ã‚¹ãƒˆç’°å¢ƒã«ç§»è¡Œã—ã¾ã—ãŸã€‚

## ãƒ†ã‚¹ãƒˆæ§‹æˆ

### 1. Vitest (ãƒ¦ãƒ‹ãƒƒãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€é–¢æ•°ã€API ã®ãƒ†ã‚¹ãƒˆ
- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: `vitest.config.ts`
- **å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
  ```bash
  npm run test          # ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
  npm run test:watch    # æ˜ç¤ºçš„ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
  npm run test -- --run # 1å›å®Ÿè¡Œ
  npm run test:ui       # UIãƒ¢ãƒ¼ãƒ‰
  ```

### 2. Playwright (E2Eãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å…¨ç”»é¢çµ±åˆãƒ†ã‚¹ãƒˆ
- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: `playwright.config.ts`
- **å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
  ```bash
  npm run test:e2e      # E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  npm run test:e2e:ui   # UIãƒ¢ãƒ¼ãƒ‰
  npm run test:all      # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  ```

## E2Eãƒ†ã‚¹ãƒˆç¶²ç¾…ç¯„å›²

### èªè¨¼ãƒ†ã‚¹ãƒˆ (`tests/e2e/auth/`)
- âœ… ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½
- âœ… ãƒ­ãƒ¼ãƒ«åˆ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- âœ… æœªèªè¨¼æ™‚ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

### å­¦ç¿’è€…ãƒ†ã‚¹ãƒˆ (`tests/e2e/student/`)
- âœ… ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º
- âœ… ã‚³ãƒ¼ã‚¹é–²è¦§ãƒ»é¸æŠ
- âœ… ãƒ¬ãƒƒã‚¹ãƒ³è¡¨ç¤ºãƒ»é€²æ—è¿½è·¡
- âœ… ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

### ç®¡ç†è€…ãƒ†ã‚¹ãƒˆ (`tests/e2e/admin/`)
- âœ… ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- âœ… ã‚³ãƒ¼ã‚¹ãƒ»ãƒãƒ£ãƒ—ã‚¿ãƒ¼ãƒ»ãƒ¬ãƒƒã‚¹ãƒ³ç®¡ç†
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼ˆADMINå°‚ç”¨ï¼‰
- âœ… ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆãƒ»ç·¨é›†

### çµ±åˆãƒ†ã‚¹ãƒˆ (`tests/e2e/integration/`)
- âœ… å®Œå…¨ãªå­¦ç¿’ãƒ•ãƒ­ãƒ¼
- âœ… ç®¡ç†è€…ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆâ†’å­¦ç¿’è€…æ¶ˆè²»
- âœ… ãƒ­ãƒ¼ãƒ«åˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

## æ—¢å­˜ãƒ†ã‚¹ãƒˆã®ç§»è¡Œ

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- âœ… `src/__tests__/simple-auth.test.ts` - èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯
- âœ… `src/__tests__/database-display.test.ts` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ

### è¨­å®šå¤‰æ›´
- âŒ Jestè¨­å®šå‰Šé™¤ (`jest.config.js`, `jest.setup.js`)
- âœ… Vitestè¨­å®šè¿½åŠ  (`vitest.config.ts`, `vitest.setup.ts`)
- âœ… Playwrightè¨­å®šè¿½åŠ  (`playwright.config.ts`)

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç’°å¢ƒ

### å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ (Playwright)
- Chromium (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
- Firefox
- WebKit (Safari)

### ä¾å­˜é–¢ä¿‚
```json
{
  "devDependencies": {
    "@playwright/test": "^1.53.1",
    "@testing-library/jest-dom": "^6.6.3",
    "@testing-library/react": "^16.3.0",
    "@vitejs/plugin-react": "^4.5.2",
    "vitest": "^3.2.4",
    "jsdom": "^26.1.0"
  }
}
```

## å®Ÿè¡Œæ–¹æ³•

### é–‹ç™ºæ™‚
```bash
# å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼‰
npm run test

# E2Eãƒ†ã‚¹ãƒˆï¼ˆãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ï¼‰
npm run test:e2e

# å…¨ãƒ†ã‚¹ãƒˆ
npm run test:all
```

### CI/CDæ™‚
```bash
# å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆ1å›å®Ÿè¡Œï¼‰
npm run test -- --run

# E2Eãƒ†ã‚¹ãƒˆï¼ˆCIç’°å¢ƒï¼‰
npm run test:e2e -- --reporter=junit
```

## ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
E2Eãƒ†ã‚¹ãƒˆã¯ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æƒ³å®šï¼š
- `admin@test.com` / `admin123` (ADMIN)
- `instructor@test.com` / `instructor123` (INSTRUCTOR)  
- `learner@test.com` / `learner123` (LEARNER)

## ãƒ¡ãƒªãƒƒãƒˆ

### Vitest
- âš¡ é«˜é€Ÿå®Ÿè¡Œï¼ˆViteãƒ™ãƒ¼ã‚¹ã®HMRï¼‰
- ğŸ”§ TypeScriptãƒ»ESMãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆ
- ğŸ¯ Jestäº’æ›APIï¼ˆç°¡å˜ç§»è¡Œï¼‰
- ğŸ“Š UIãƒ¢ãƒ¼ãƒ‰ï¼ˆ`npm run test:ui`ï¼‰

### Playwright
- ğŸŒ ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ
- ğŸ“± ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œ
- ğŸ¥ è‡ªå‹•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ»å‹•ç”»éŒ²ç”»
- ğŸ›  ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«ï¼ˆ`--debug`ãƒ•ãƒ©ã‚°ï¼‰
- ğŸ­ ä¸¦åˆ—å®Ÿè¡Œã‚µãƒãƒ¼ãƒˆ

## æ³¨æ„äº‹é …
- E2Eãƒ†ã‚¹ãƒˆã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒ`http://localhost:3000`ã§å®Ÿè¡Œä¸­ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ãªå ´åˆã¯`npm run db:seed`ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
- CIç’°å¢ƒã§ã¯`npm run test:all`ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ»E2Eä¸¡æ–¹ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™